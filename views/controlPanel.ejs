<!-- views/controlPanel.ejs -->
<%- include('partials/header') %>
<div class="container mt-5">
  <div class="signBox">
    <h2>Session Started...</h2>

      <div class="card mt-5 bg-dark controlPanelCodeBox" style="width: 30rem;">
        <div class="card-body">
          <h4 class="card-title"><%= voteSession.title %></h4>
          <h6 class="card-subtitle mb-2 text-body-secondary text-muted"><i class="fa-regular fa-clock"></i> <%= voteSession.dateCreated.toDateString() %></h6>
          <h5 class="card-text">
            Code: <span class="text-warning"><%= voteSession.code %></span>
          </h5>
        </div>
      </div>

      <div class="mt-3 ml-3">
        <form action="/organizer/dashboard/questionPanel/<%= voteSession._id %>" method="POST">
            <button type="submit" class="btn btn-outline-warning">Start Taking Votes</button>
        </form>
    </div>
      

    <div class="my-5">
      <h4>Participants (<strong class="text-warning"><%= participant.length || 0%></strong>)</h4>
      <% if (participant.length > 0) { %>
        <ul class="dashboardListGroup">
          <% participant.forEach(participantEach => { %>
              <div class="btn btn btn-outline-info mb-1 text-white">
                  <%= participantEach.name %> 
                  <%= participantEach.emoji %> 
              </div>
              
          <% }) %>
        </ul>
      <% } else { %>
        <p>No Participants Have Joined Yet</p>
      <% } %>
    </div>




    </div>
</div>





<script>
  setTimeout(function() {
      window.location.reload(1);
  }, 2000);  // Refresh every 2 seconds (1000 ms)
</script>



<%- include('partials/footer') %>



