<%- include('partials/header') %>

<div class="container mt-5">
  <div class="questionBox">
    
    <div class="row">

      <div class="col-3">
        <h2>Question : <strong style="color:#ffc107">01</strong></h2>
        
        <div class="d-flex flex-column btn-group-toggle" data-toggle="buttons">
          <label class="btn btn-outline-info mb-2 active">
            <input type="radio" name="options" id="option1" autocomplete="off" checked onclick="showType('fibonacci')"> Fibonacci
          </label>
          <label class="btn btn-outline-info mb-2">
            <input type="radio" name="options" id="option2" autocomplete="off" onclick="showType('tshirt')"> T-Shirt
          </label>
          <label class="btn btn-outline-info mb-2">
            <input type="radio" name="options" id="option3" autocomplete="off" onclick="showType('custom')"> Custom
          </label>
        </div>
        
        <!-- Submit Everything -->
        <div class="questionSubmission mt-5">
          <label>Finished Adding All Questions?</label> <br>
          <button class="btn btn-warning" onclick="goToAction('/organizer/dashboard')">Submit All Questions</button>
        </div>
      </div>

      <div class="col-3">
        <!-- Do Nothing -->
      </div>
      
      <!-- +++++++++++++Options++++++++ -->
      <div class="col-6 mt-2">
        <form action="/organizer/create-questions" method="POST">
          <div class="form-group">
            <input type="text" name="title" class="form-control" placeholder="Type Your Question Here" required />

            <label class="mt-3">Modify Options</label>
            
            <!-- Fibonacci Section (Default Visible) -->
            <div id="fibonacciSection">
              <%- include('types/fibonacci') %>
            </div>
            
            <!-- T-Shirt Section (Hidden Initially) -->
            <div id="tshirtSection" style="display: none;">
              <%- include('types/tshirt') %>
            </div>

            <!-- Custom Section (Hidden Initially) -->
            <div id="customSection" style="display: none;">
              <%- include('types/custom') %>
            </div>

          </div>
          <button type="submit" class="btn btn-sm btn-info">Add it to collection</button>
        </form>
      </div>

    </div>
  </div>
</div>

<script>
  // Function to show/hide specific question types based on the user's selection
  function showType(type) {
    // Hide all sections initially
    document.getElementById('fibonacciSection').style.display = 'none';
    document.getElementById('tshirtSection').style.display = 'none';
    document.getElementById('customSection').style.display = 'none';

    // Show the selected section based on the radio button clicked
    if (type === 'fibonacci') {
      document.getElementById('fibonacciSection').style.display = 'block';
    } else if (type === 'tshirt') {
      document.getElementById('tshirtSection').style.display = 'block';
    } else if (type === 'custom') {
      document.getElementById('customSection').style.display = 'block';
    }
  }

  //Fibonacci section is shown by default on page load
  window.onload = function() {
    showType('fibonacci');
  };

  function goToAction(url) {
      window.location.href = url;
  }
</script>

<%- include('partials/footer') %>
